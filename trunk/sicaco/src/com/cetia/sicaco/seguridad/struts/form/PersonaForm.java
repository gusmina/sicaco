/*
 * Generated by MyEclipse Struts
 * Template path: templates/java/JavaClass.vtl
 */
package com.cetia.sicaco.seguridad.struts.form;

import java.util.Date;
import java.util.Set;
import java.text.ParseException;
import java.text.SimpleDateFormat;

import javax.servlet.http.HttpServletRequest;
import org.apache.struts.action.ActionErrors;
import org.apache.struts.action.ActionForm;
import org.apache.struts.action.ActionMapping;
import org.apache.struts.action.ActionMessage;
import org.apache.struts.action.ActionMessages;

import com.cetia.sicaco.hibernate.*;
import com.cetia.sicaco.struts.BasicForm;

/** 
 * MyEclipse Struts
 * Creation date: 02-11-2008
 * 
 * XDoclet definition:
 * @struts.form name="personaForm"
 */
public class PersonaForm extends BasicForm {
	/*
	 * Generated Methods
	 */

	/**
	 * 
	 */
	private static final long serialVersionUID = 8253354610983744772L;
	private SecPerPersona personaH = new SecPerPersona();
	private SecCelCorreoElectronico correoElectronicoH;
	private String correElectronico;
	private String accion;
	public String getAccion() {
		return accion;
	}
	public void setAccion(String accion) {
		this.accion = accion;
	}
	
	public void setCodigoUsuario(String codigo){
			this.personaH.setCodigoUsuario(codigo);
	}
	
	public String getCodigoUsuario(){
		return this.personaH.getCodigoUsuario();
	}
	
	/*el correo electronico es necesario para poder enviar user y password*/
	/** 
	 * 
	 * 
	 * 
	 * Method validate
	 * @param mapping
	 * @param request
	 * @return ActionErrors
	 */
	public void setCorreElectronico(String correo){
		this.correElectronico = correo;
	}
	public String getCorreElectronico(){
		return correElectronico;
	}
	
	/** 
	 * Method reset
	 * @param mapping
	 * @param request
	 */
	
	


	public String getAudFechaCreacion() {
		SimpleDateFormat sdf = new SimpleDateFormat("dd-MM-yyyy");
		return (personaH.getAudFechaCreacion()!=null)?(sdf.format(personaH.getAudFechaCreacion())):null;

	}

	public String getAudFechaModificacion() {
		SimpleDateFormat sdf = new SimpleDateFormat("dd-MM-yyyy");
		return (personaH.getAudFechaModificacion()!=null)?(sdf.format(personaH.getAudFechaModificacion())):null;

	}

	public String getAudUsuarioCreacion() {
		return personaH.getAudUsuarioCreacion();
	}

	public String getAudUsuarioModificacion() {
		return personaH.getAudUsuarioModificacion();
	}

	public String getPerApellidoCasada() {
		return personaH.getPerApellidoCasada();
	}

	public String getPerCalle() {
		return personaH.getPerCalle();
	}

	public String getPerCodigoPostal() {
		return personaH.getPerCodigoPostal();
	}

	public String getPerColoniaBarrio() {
		return personaH.getPerColoniaBarrio();
	}
/*
	public String getPerDepartamento() {
		return personaH.getPerDepartamento();
	}
*/
	public String getPerDui() {
		return personaH.getPerDui();
	}

	public String getPerFechaNacimiento() {
		SimpleDateFormat sdf = new SimpleDateFormat("dd-MM-yyyy");
		return (personaH.getPerFechaNacimiento()!=null)?(sdf.format(personaH.getPerFechaNacimiento())):null;

	}

	public String getPerGenero() {
		return personaH.getPerGenero();
	}

	public String getPerId() {
		return personaH.getPerId();
	}

	public String getPerLugarNacimiento() {
		return personaH.getPerLugarNacimiento();
	}

	public String getPerMunicipio() {
		return personaH.getPerMunicipio();
	}

	public String getPerNit() {
		return personaH.getPerNit();
	}

	public String getPerPrimerApellido() {
		return personaH.getPerPrimerApellido();
	}

	public String getPerPrimerNombre() {
		return personaH.getPerPrimerNombre();
	}

	public String getPerSegundoApellido() {
		return personaH.getPerSegundoApellido();
	}

	public String getPerSegundoNombre() {
		return personaH.getPerSegundoNombre();
	}

	public String getPerTercerNombre() {
		return personaH.getPerTercerNombre();
	}

	public Set getSecCelCorreoElectronicos() {
		return personaH.getSecCelCorreoElectronicos();
	}

	public Set getSecIseInicioSesions() {
		return personaH.getSecIseInicioSesions();
	}

	public Set getSecPemPersonaEmergencias() {
		return personaH.getSecPemPersonaEmergencias();
	}

	public Set getSecTelTelefonos() {
		return personaH.getSecTelTelefonos();
	}

	public void setAudFechaCreacion(Date fecha) {
		personaH.setAudFechaCreacion(fecha);
	}

	public void setAudFechaModificacion(Date fecha) {
		personaH.setAudFechaModificacion(fecha);
	}

	public void setAudFechaCreacion(String adufecString) {
		SimpleDateFormat sdf = new SimpleDateFormat("dd-MM-yyyy");
		try {
			personaH.setAudFechaCreacion(sdf.parse(adufecString));
		} catch (ParseException e) {
		}
	}
	
	public void setAudFechaModificacion(String adufecString) {
		SimpleDateFormat sdf = new SimpleDateFormat("dd-MM-yyyy");
		try {
			personaH.setAudFechaModificacion(sdf.parse(adufecString));
		} catch (ParseException e) {
		}
	}
	
	public void setAudUsuarioCreacion(String audUsuarioCreacion) {
		personaH.setAudUsuarioCreacion(audUsuarioCreacion);
	}

	public void setAudUsuarioModificacion(String audUsuarioModificacion) {
		personaH.setAudUsuarioModificacion(audUsuarioModificacion);
	}

	public void setPerApellidoCasada(String perApellidoCasada) {
		personaH.setPerApellidoCasada(perApellidoCasada);
	}

	public void setPerCalle(String perCalle) {
		personaH.setPerCalle(perCalle);
	}

	public void setPerCodigoPostal(String perCodigoPostal) {
		personaH.setPerCodigoPostal(perCodigoPostal);
	}

	public void setPerColoniaBarrio(String perColoniaBarrio) {
		personaH.setPerColoniaBarrio(perColoniaBarrio);
	}
/*
	public void setPerDepartamento(String perDepartamento) {
		personaH.setPerDepartamento(perDepartamento);
	}
*/
	public void setPerDui(String perDui) {
		personaH.setPerDui(perDui.replace("-",""));
	}

	public void setPerFechaNacimiento(String perFechaNacimiento) {
		SimpleDateFormat sdf = new SimpleDateFormat("dd-MM-yyyy");
		try {
			personaH.setPerFechaNacimiento(sdf.parse(perFechaNacimiento));
		} catch (ParseException e) {
		}
	}


	public void setPerGenero(String perGenero) {
		personaH.setPerGenero(perGenero);
	}

	public void setPerId(String perId) {
		personaH.setPerId(perId);
	}

	public void setPerLugarNacimiento(String perLugarNacimiento) {
		personaH.setPerLugarNacimiento(perLugarNacimiento);
	}

	public void setPerMunicipio(String perMunicipio) {
		personaH.setPerMunicipio(perMunicipio);
	}

	public void setPerNit(String perNit) {
		
		personaH.setPerNit(perNit.replace("-",""));
	}

	public void setPerPrimerApellido(String perPrimerApellido) {
		personaH.setPerPrimerApellido(perPrimerApellido);
	}

	public void setPerPrimerNombre(String perPrimerNombre) {
		personaH.setPerPrimerNombre(perPrimerNombre);
	}

	public void setPerSegundoApellido(String perSegundoApellido) {
		personaH.setPerSegundoApellido(perSegundoApellido);
	}

	public void setPerSegundoNombre(String perSegundoNombre) {
		personaH.setPerSegundoNombre(perSegundoNombre);
	}

	public void setPerTercerNombre(String perTercerNombre) {
		personaH.setPerTercerNombre(perTercerNombre);
	}

	public void setSecCelCorreoElectronicos(Set secCelCorreoElectronicos) {
		personaH.setSecCelCorreoElectronicos(secCelCorreoElectronicos);
	}

	public void setSecIseInicioSesions(Set secIseInicioSesions) {
		personaH.setSecIseInicioSesions(secIseInicioSesions);
	}

	public void setSecPemPersonaEmergencias(Set secPemPersonaEmergencias) {
		personaH.setSecPemPersonaEmergencias(secPemPersonaEmergencias);
	}

	public void setSecTelTelefonos(Set secTelTelefonos) {
		personaH.setSecTelTelefonos(secTelTelefonos);
	}
	
	public SecPerPersona getPersonaH() {
		return personaH;
	}

	public void setPersonaH(SecPerPersona personaH) {
		this.personaH = personaH;
	}

	
	public boolean isFillAuditoria() {
		// TODO Auto-generated method stub
		return true;
	}



	
	public ActionErrors validate(ActionMapping mapping,
			HttpServletRequest request) {
		// TODO Auto-generated method stub
		ActionErrors actionErrors = super.validate(mapping, request);
		if(actionErrors.size() > 0){
			
			String nit = this.getPerNit();
			
			try {
				Long.parseLong(nit);
				if(nit.length()!=14)throw new Exception();
			} catch (Exception e) {
				// TODO: handle exception
				actionErrors.add(ActionMessages.GLOBAL_MESSAGE,new ActionMessage("error.persona.perNit"));
			}
			request.getSession().setAttribute(ERRORS,actionErrors); 
			if(getAccion()!= null && (getAccion().equals("Guardar Admin") || getAccion().equals("Guardar Cliente"))){
				request.getSession().setAttribute(METHOD_NAME,"invalidSave");
			}
			if(getAccion()!=null && ( getAccion().equals("Salvar") || getAccion().equals("Eliminar"))){
				request.getSession().setAttribute(METHOD_NAME,"invalidUpdate");
			}
		}
		return actionErrors;
	}



	
	
	
	public SecCelCorreoElectronico getCorreoElectronicoH() {
		return correoElectronicoH;
	}

	public void setCorreoElectronicoH(SecCelCorreoElectronico correoElectronicoH) {
		this.correoElectronicoH = correoElectronicoH;
	}
	public String getPerEstado() {
		return personaH.getPerEstado();
	}
	public void setPerEstado(String perEstado) {
		personaH.setPerEstado(perEstado);
	}
	public SecSucSucursal getSecSucSucursal() {
		return personaH.getSecSucSucursal();
	}
	public void setSecSucSucursal(SecSucSucursal secSucSucursal) {
		personaH.setSecSucSucursal(secSucSucursal);
	}
	public Set getCtrUreUsuarioRepositorios() {
		return personaH.getCtrUreUsuarioRepositorios();
	}
	public void setPerFechaNacimiento(Date perFechaNacimiento) {
		personaH.setPerFechaNacimiento(perFechaNacimiento);
	}
	public Integer getZonId() {
		return personaH.getZonId();
	}
	public void setZonId(Integer zonId) {
		personaH.setZonId(zonId);
	}
	public SecDppDepartamentoPais getSecDppDepartamentoPais() {
		return personaH.getSecDppDepartamentoPais();
	}
	public void setSecDppDepartamentoPais(
			SecDppDepartamentoPais secDppDepartamentoPais) {
		personaH.setSecDppDepartamentoPais(secDppDepartamentoPais);
	}
	
}